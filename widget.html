<div x-data="{
	password: null,
	result: null,

	async testPassword() {
		const response = await fetch(`https://password-tester.joeyfarruggio.workers.dev`, {
			method: 'POST',
			body: JSON.stringify({ 'query': this.password }),
			headers: {
				'Content-type': 'application/json'
			}
		});
		return response.json();
	},

	async getResult() {
		this.result = await this.testPassword();
	}
}">
	<img src="https://assets.codepen.io/925962/hacker.jpeg" class="w-32 mx-auto my-0" alt="">
	<p class="text-slate-700 mt-0 mb-0 text-center">How fast could I crack your password?</p>
	<input type="text" x-model="password" @input.debounce.1000ms="getResult()"
		placeholder="enter a password to test" class="w-full border-none bg-slate-100 mt-4 py-3 rounded-lg">

	<template x-if="result && password">
		<div class="mt-4 space-y-3">

			<p x-show="result.feedback.warning"
				class="flex gap-3 items-center  bg-red-100 text-red-800 m-0 p-2 rounded-sm leading-5">
				<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
					stroke="currentColor" stroke-width="2">
					<path stroke-linecap="round" stroke-linejoin="round"
						d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
				</svg>
				<span x-text="result.feedback.warning"></span>
			</p>

			<p class="flex gap-3 items-center bg-amber-100 text-amber-800 p-2 rounded-sm leading-5">
				<svg
					xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
					stroke-width="2"
					class="h-6 w-6">
					<path stroke-linecap="round" stroke-linejoin="round"
						d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
				</svg>
				<span>I could crack your password in <span
						x-text="result.crack_times_display.offline_fast_hashing_1e10_per_second"></span></span>

			</p>

			<div x-show="result.feedback.suggestions.length">
				<p>Suggestions:</p>
				<ul class="pl-4">
					<template x-for="tip in result.feedback.suggestions">
						<li x-text="tip" class="list-disc"></li>
					</template>
				</ul>
			</div>
		</div>
	</template>
</div>